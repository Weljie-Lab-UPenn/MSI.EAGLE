---
output: github_document
---

# MSI.EAGLE

An interactive Shiny application for processing mass spectrometry imaging (MSI) data. MSI.EAGLE leverages processing features from Cardinal and adds additional analysis options for comprehensive MSI data analysis.

## Installation

### Prerequisites

Before installing MSI.EAGLE, you need to install the required Bioconductor packages and Git.

### Step 1: Install Required R Packages

```r
# Install remotes package
install.packages("remotes")

# Install BiocManager if not already installed
if (!require("BiocManager", quietly = TRUE))
    install.packages("BiocManager")

# Install required Bioconductor packages
BiocManager::install(c("BiocParallel", "Cardinal"))

# Optional: Install CardinalWorkflows for demo data
BiocManager::install("CardinalWorkflows")
```

### Step 2: Install Git

If you don't have Git installed, download and install it from: https://git-scm.com/book/en/v2/Getting-Started-Installing-Git

### Step 3: Install MSI.EAGLE

```r
remotes::install_git("https://github.com/Weljie-Lab-UPenn/MSI.EAGLE")
```

## Usage

### Basic Setup

```r
library(MSI.EAGLE)

# Set path to raw data files
rawd <- 'path/to/rawfilesdirectory'

# Set working directory (can be same as raw data directory)
wd <- 'path/to/workingdirectory'

# Configure number of CPU cores to use
# Option 1: Use half of available processors
ncores <- as.integer(parallel::detectCores()/2)

# Option 2: Use all but 2 processors (recommended)
ncores <- as.integer(parallel::detectCores()) - 2

# Launch the application
MSI.EAGLE()
```

## Private Repository Access

If you need to access this as a private repository, you'll need to set up a GitHub Personal Access Token (PAT).

### Setting up GitHub PAT

1. **Create a PAT** on GitHub with appropriate repository permissions

2. **Store the PAT securely** in your `.Renviron` file:
   ```r
   # Edit your .Renviron file
   usethis::edit_r_environ()
   ```

3. **Add your PAT** to the file:
   ```
   GITHUB_PAT=your_personal_access_token
   ```

4. **Restart R** to load the environment variable

5. **Install the package** using the standard command:
   ```r
   remotes::install_github("Weljie-Lab-UPenn/MSI.EAGLE")
   ```

## Requirements

- R version 3.6 or higher
- Bioconductor packages: Cardinal, BiocParallel
- Git (for installation)
- Sufficient RAM for mass spectrometry imaging data processing

## Support

For issues and questions, please use the GitHub Issues page for this repository.
