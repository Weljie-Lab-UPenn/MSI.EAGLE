---
output: github_document
---

# MSI.EAGLE

An interactive Shiny application for processing mass spectrometry imaging (MSI) data. MSI.EAGLE leverages processing features from Cardinal and adds additional analysis options for comprehensive MSI data analysis.

## Installation

### Prerequisites

Before installing MSI.EAGLE, you need to install R and R Studio: https://rstudio-education.github.io/hopr/starting.html

Then the required Bioconductor packages and Git.

### Step 1: Install Required R Packages

```r
# Install remotes package
install.packages("remotes")

# Install BiocManager if not already installed
if (!require("BiocManager", quietly = TRUE))
    install.packages("BiocManager")

# Install required Bioconductor packages
BiocManager::install(c("BiocParallel", "Cardinal"))

# Optional: Install CardinalWorkflows for demo data
BiocManager::install("CardinalWorkflows")
```

### Step 2: Install Git

If you don't have Git installed, download and install it from: https://git-scm.com/book/en/v2/Getting-Started-Installing-Git

### Step 3: Install MSI.EAGLE

```r
remotes::install_git("https://github.com/Weljie-Lab-UPenn/MSI.EAGLE")
```

## Usage

### Basic Setup

In R Studio:
1) Create a new R script, and copy and paste the start code below into it.
2) Add the file path to the folder containing your .imzML and .ibd raw data files (rawd), and the path to the folder where your results will be saved (wd).
3) Then, click "Source with Echo" to run the application.

```r
#MSI.EAGLE Start

library(MSI.EAGLE)

# Set path to raw data files
rawd = 'path/to/rawfilesdirectory'

# Set working directory (can be same as raw data directory)
wd = 'path/to/workingdirectory'

# Configure number of CPU cores to use
# Option 1: Use half of available processors
ncores <- as.integer(parallel::detectCores()/2)

# Option 2: Use all but 2 processors (recommended)
ncores <- as.integer(parallel::detectCores()) - 2

# Launch the application
MSI.EAGLE()
```

## Requirements

- R version 3.6 or higher
- Bioconductor packages: Cardinal, BiocParallel
- Git (for installation)
- Sufficient RAM for mass spectrometry imaging data processing

## Support

For issues and questions, please use the GitHub Issues page for this repository.
